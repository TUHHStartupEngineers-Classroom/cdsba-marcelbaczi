{
  "hash": "3c9d22e54fe63a9e2eef145560b9207e",
  "result": {
    "markdown": "---\ntitle: \"Regression Discontinuity\"\n---\n\n\n# Assignment 1\n\n## Half Bandwidth\n\n\n::: {.cell hash='10_rdd_cache/html/unnamed-chunk-1_b8480d566ede2c366cdb54e2e65b1fde'}\n\n```{.r .cell-code}\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> Attaching package: 'dplyr'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> The following objects are masked from 'package:stats':\n#> \n#>     filter, lag\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> The following objects are masked from 'package:base':\n#> \n#>     intersect, setdiff, setequal, union\n```\n:::\n\n```{.r .cell-code}\ndata<-readRDS(\"C:/Users/Marcel/Master/DataScience/data/coupon.rds\")\n\nc0 <- 60\n\nbw <- c0 + c(-5, 5)\nhbw <- c0+(c(-5,5)/2)\n\ndf_hbw_below <- data %>% filter(days_since_last >= hbw[1] & days_since_last < c0)\ndf_hbw_above <- data %>% filter(days_since_last >= c0 & days_since_last <= hbw[2])\n\ndf_hbw <- bind_rows(df_hbw_above, df_hbw_below)\n\nlm_hbw <- lm(purchase_after ~ days_since_last_centered + coupon, df_hbw)\nsummary(lm_hbw)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n#> Call:\n#> lm(formula = purchase_after ~ days_since_last_centered + coupon, \n#>     data = df_hbw)\n#> \n#> Residuals:\n#>      Min       1Q   Median       3Q      Max \n#> -10.9680  -2.2013   0.1676   2.1516   8.2567 \n#> \n#> Coefficients:\n#>                          Estimate Std. Error t value Pr(>|t|)    \n#> (Intercept)               11.6612     0.5747  20.292  < 2e-16 ***\n#> days_since_last_centered   0.6883     0.3219   2.138   0.0339 *  \n#> couponTRUE                 7.1679     1.0172   7.047 3.87e-11 ***\n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> Residual standard error: 3.289 on 178 degrees of freedom\n#> Multiple R-squared:  0.6622,\tAdjusted R-squared:  0.6584 \n#> F-statistic: 174.5 on 2 and 178 DF,  p-value: < 2.2e-16\n```\n:::\n:::\n\n\n# Assignment 2\n\n## Double Bandwidth\n\n\n::: {.cell hash='10_rdd_cache/html/unnamed-chunk-2_19c707c42a6d16c4f4d82bf54402e3be'}\n\n```{.r .cell-code}\ndbw <- c0+(c(-5,5)*2)\n\ndf_dbw_below <- data %>% filter(days_since_last >= dbw[1] & days_since_last < c0)\ndf_dbw_above <- data %>% filter(days_since_last >= c0 & days_since_last <= dbw[2])\n\ndf_dbw <- bind_rows(df_dbw_above, df_dbw_below)\n\nlm_dbw <- lm(purchase_after ~ days_since_last_centered + coupon, df_dbw)\nsummary(lm_dbw)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n#> Call:\n#> lm(formula = purchase_after ~ days_since_last_centered + coupon, \n#>     data = df_dbw)\n#> \n#> Residuals:\n#>      Min       1Q   Median       3Q      Max \n#> -12.2718  -2.0858  -0.0003   2.0275  10.6749 \n#> \n#> Coefficients:\n#>                          Estimate Std. Error t value Pr(>|t|)    \n#> (Intercept)              10.61700    0.27386  38.767   <2e-16 ***\n#> days_since_last_centered  0.01413    0.04255   0.332     0.74    \n#> couponTRUE                9.51584    0.48628  19.569   <2e-16 ***\n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> Residual standard error: 3.115 on 626 degrees of freedom\n#> Multiple R-squared:  0.7052,\tAdjusted R-squared:  0.7042 \n#> F-statistic: 748.6 on 2 and 626 DF,  p-value: < 2.2e-16\n```\n:::\n:::\n\n\n# Assignment 3\n\n\n::: {.cell hash='10_rdd_cache/html/unnamed-chunk-3_dc123aebde20f9348f54e165d8af7dbe'}\n\n```{.r .cell-code}\nlibrary(rddensity)\n\ndata<-readRDS(\"C:/Users/Marcel/Master/DataScience/data/shipping.rds\")\nc0 <- 30\nrddd <- rddensity(data$purchase_amount, c = c0)\n#summary(rddd)\nrdd_plot <- rdplotdensity(rddd, data$purchase_amount, plotN = 100)\n```\n\n::: {.cell-output-display}\n![](10_rdd_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nThe plot shows a big jump at the cutoff value of 30. The confidence intervals do not overlap as such purchase_amount is not a suitable variable.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}